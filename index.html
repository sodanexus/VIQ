<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VIQ | Official Website</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: #000;
            color: #fff;
            font-family: 'Playfair Display', serif;
            min-height: 100vh;
            overflow: hidden;
            -webkit-font-smoothing: antialiased;
        }

        #bg-video {
            position: fixed;
            inset: 0;
            width: 100%; height: 100%;
            object-fit: cover;
            z-index: -2;
        }

        .overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,.4);
            z-index: -1;
        }

        #ui {
            position: fixed;
            --mx: clamp(25px, 5vw, 45px);
            --my: clamp(40px, 7vh, 65px);
            inset: var(--my) var(--mx);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 10;
            pointer-events: none;
        }

        .top {
            flex-shrink: 0;
            pointer-events: auto;
            padding-bottom: clamp(12px, 2vh, 24px);
        }

        .bottom {
            flex: 1 1 0;
            min-height: 0;
            position: relative;
            overflow: hidden;
        }

        .links {
            font-size: clamp(28px, 5.5vw, 55px);
            text-transform: uppercase;
            line-height: .95;
            pointer-events: auto;
            display: flex;
            flex-direction: column;
        }

        .links a, .btn {
            display: inline-block;
            color: #fff;
            text-decoration: none;
            margin-bottom: 4px;
            transition: transform .25s cubic-bezier(.2,0,.2,1), opacity .25s ease;
            cursor: pointer;
            white-space: nowrap;
            width: fit-content;
        }

        .red { color: #b31300 !important; }

        .btn {
            position: relative;
            overflow: hidden;
            height: .95em;
        }
        .btn span {
            display: block;
            line-height: .95em;
            transition: transform .5s cubic-bezier(.19,1,.22,1);
        }
        .btn.open span { transform: translateY(-.95em); }

        @media (hover: hover) {
            .top:hover > a, .top:hover > .btn { opacity: .3; }
            .top > a:hover, .top > .btn:hover { opacity: 1 !important; transform: translateX(15px) !important; }
            .drawer:hover > .dl { opacity: .3; }
            .drawer > .dl:hover  { opacity: 1 !important; transform: translateX(15px) !important; }
        }

        #ui.dim .top > a, #ui.dim .top > .btn { opacity: .3; }
        #ui.dim .top > .btn.open { opacity: 1 !important; }

        .drawer {
            position: absolute;
            bottom: 0; left: 0;
            display: flex;
            flex-direction: column;
            visibility: hidden;
            pointer-events: none;
        }
        .drawer.active, .drawer.closing { visibility: visible; pointer-events: auto; }

        .drawer > a { opacity: 0; transform: translateY(18px); }
        .drawer > a.dl {
            opacity: 1; transform: translateY(0);
            transition: transform .25s cubic-bezier(.2,0,.2,1), opacity .25s ease;
        }

        @keyframes in  { from { opacity:0; transform:translateY(18px) } to { opacity:1; transform:translateY(0) } }
        @keyframes out { from { opacity:1; transform:translateY(0) } to { opacity:0; transform:translateY(18px) } }
    </style>
</head>
<body>

<video autoplay muted loop playsinline id="bg-video">
    <source src="Background.mp4" type="video/mp4">
</video>
<div class="overlay"></div>

<div id="ui">
    <div class="links top">
        <div class="btn" id="btn-contact"><span>CONTACT<br>CLOSE —</span></div>
        <a href="https://votre-boutique.com" target="_blank">STORE</a>
        <div class="btn" id="btn-links"><span>LINKS<br>CLOSE —</span></div>
        <a href="#" class="red">VIQ</a>
    </div>

    <div class="bottom">
        <div class="links drawer" id="contactDrawer">
            <a href="mailto:viqmusic.promo@gmail.com">GENERAL INQUIRIES</a>
            <a href="https://drive.google.com/drive/folders/13zPAOc29mHrjve1CM-KaZwaS_TqAtFzI?usp=sharing" target="_blank">PRESS KIT</a>
        </div>

        <div class="links drawer" id="linksDrawer">
            <a href="https://tidal.com/artist/14851275" target="_blank">TIDAL</a>
            <a href="https://www.tiktok.com/@viqmusic" target="_blank">TIKTOK</a>
            <a href="https://www.deezer.com/fr/artist/53988822" target="_blank">DEEZER</a>
            <a href="https://open.spotify.com/intl-fr/artist/6XpN8mRlhuOXuvEyva4yjZ" target="_blank">SPOTIFY</a>
            <a href="https://music.amazon.fr/artists/B07SVHSJ37/viq" target="_blank">AMAZON</a>
            <a href="https://www.pandora.com/artist/viq/AR7v5wJfcr9gkKX" target="_blank">PANDORA</a>
            <a href="https://www.youtube.com/c/VIQmusic" target="_blank">YOUTUBE</a>
            <a href="https://www.facebook.com/Viqmusic" target="_blank">FACEBOOK</a>
            <a href="https://viqmusic.bandcamp.com/music" target="_blank">BANDCAMP</a>
            <a href="https://www.instagram.com/viqmusic/" target="_blank">INSTAGRAM</a>
            <a href="https://music.apple.com/us/artist/viq/1467177415" target="_blank">APPLE MUSIC</a>
            <a href="https://soundcloud.com/viqmusic" target="_blank">SOUNDCLOUD</a>
        </div>
    </div>
</div>

<script>
const STEP = 35, IN = 300, OUT = 250;
const ui = document.getElementById('ui');
const timers = { contactDrawer: [], linksDrawer: [] };

function kill(id) {
    timers[id].forEach(clearTimeout);
    timers[id] = [];
}

function anim(el, kf, ms) {
    el.style.animation = 'none';
    void el.offsetWidth;
    el.style.animation = `${kf} ${ms}ms cubic-bezier(.19,1,.22,1) both`;
}

function open(drawer, btn) {
    const id = drawer.id;
    const links = [...drawer.querySelectorAll('a')];
    kill(id);

    links.forEach(a => {
        a.style.animation = a.style.opacity = a.style.transform = '';
        a.classList.remove('dl');
        void a.offsetWidth;
    });

    drawer.classList.add('active');
    drawer.classList.remove('closing');
    ui.classList.add('dim');
    btn.classList.add('open');

    links.forEach((a, i) => {
        const t1 = setTimeout(() => {
            anim(a, 'in', IN);
            const t2 = setTimeout(() => {
                a.style.animation = a.style.opacity = a.style.transform = '';
                a.classList.add('dl');
            }, IN + 20);
            timers[id].push(t2);
        }, i * STEP);
        timers[id].push(t1);
    });
}

function close(drawer, btn) {
    const id = drawer.id;
    const links = [...drawer.querySelectorAll('a')];
    const n = links.length;
    kill(id);

    links.forEach(a => {
        const cs = getComputedStyle(a);
        a.style.animation = 'none';
        a.style.opacity   = cs.opacity;
        a.style.transform = cs.transform;
        a.classList.remove('dl');
        void a.offsetWidth;
    });

    drawer.classList.remove('active');
    drawer.classList.add('closing');
    btn?.classList.remove('open');
    ui.classList.remove('dim');

    links.forEach((a, i) => {
        const t = setTimeout(() => anim(a, 'out', OUT), (n - 1 - i) * STEP);
        timers[id].push(t);
    });

    const tClean = setTimeout(() => {
        drawer.classList.remove('closing');
        links.forEach(a => { a.style.animation = a.style.opacity = a.style.transform = ''; });
    }, (n - 1) * STEP + OUT + 60);
    timers[id].push(tClean);
}

function toggle(section) {
    const isContact = section === 'contact';
    const drawer = document.getElementById(isContact ? 'contactDrawer' : 'linksDrawer');
    const btn    = document.getElementById(isContact ? 'btn-contact'   : 'btn-links');
    const other  = document.getElementById(isContact ? 'linksDrawer'   : 'contactDrawer');
    const otherBtn = document.getElementById(isContact ? 'btn-links'   : 'btn-contact');

    if (other.classList.contains('active') || other.classList.contains('closing'))
        close(other, otherBtn);

    drawer.classList.contains('active') ? close(drawer, btn) : open(drawer, btn);
}

document.getElementById('btn-contact').addEventListener('click', () => toggle('contact'));
document.getElementById('btn-links').addEventListener('click',   () => toggle('links'));
document.addEventListener('touchstart', () => document.getElementById('bg-video').play(), { once: true });
</script>
</body>
</html>
